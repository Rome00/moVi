import{m as y,C as k}from"./MediaSize.b8214e7f.js";import{d as S,a as h,p as f,b as _,c as C,r as $,o,e as r,f as s,u as c,t as m,F as x,g as b,h as p,w as j,i as B,j as N,k as z}from"./index.852570de.js";import{_ as I}from"./RatingStar.f2fc0cf8.js";const v=S("SeriesStore",{state:()=>({genres:null,series:null}),getters:{},actions:{async getGenres(){await h.get("https://api.themoviedb.org/3/genre/tv/list?api_key=da4d11234eb9fbd69aa0dd7c6323eff9").then(t=>{this.genres=t.data.genres})},async getTvSeries(t){const e=f();e.loading=!0,await h.get("https://api.themoviedb.org/3/discover/tv?api_key=da4d11234eb9fbd69aa0dd7c6323eff9&language=en-US&sort_by=popularity.desc&with_original_language=en&page="+t).then(i=>{e.page=t,e.total_pages=i.data.total_pages,e.total_results=i.data.total_results,this.series=i.data.results,e.loading=!1})}}}),T={class:"relative flex h-full max-w-[342px] overflow-hidden rounded-md shadow-md shadow-slate-700 transition-transform delay-100 duration-300 hover:scale-105 xs:max-w-full md:min-h-[350px]"},V={class:"min-w-[184px] bg-gradient-to-t from-black via-black to-transparent md:min-w-full"},F=["src","alt"],G={class:"absolute inset-x-0 bottom-0 bg-gradient-to-t from-black via-black to-transparent shadow-inner xs:relative md:absolute"},U={class:"select-none px-3 py-6 text-white"},q={class:"font-raleway text-lg font-bold capitalize"},D={class:"my-4 inline-flex flex-wrap space-x-1 xs:my-2 sm:my-4"},E={class:"font-raleway"},L=["onClick"],O=_({props:{series:{type:Object,required:!0}},setup(t){const e=C(()=>"https://image.tmdb.org/t/p/w342"),i=v(),d=n=>{var a;return(a=i.genres.find(g=>g.id===n))==null?void 0:a.name},l=(n,a)=>n.length>a?n.substring(0,a)+"...":n;return(n,a)=>{const g=$("router-link");return o(),r("article",T,[s("figure",V,[s("img",{src:c(e)+t.series.poster_path,alt:t.series.original_name},null,8,F)]),s("div",G,[s("div",U,[s("h1",q,m(l(t.series.original_name,30)),1),s("ul",D,[(o(!0),r(x,null,b(t.series.genre_ids.slice(0,3),(u,w)=>(o(),r("li",{key:w,class:"table-cell rounded-lg bg-slate-50 px-1.5 align-middle text-xs text-slate-800"},[s("span",E,m(d(u)),1)]))),128))]),s("p",null,m(l(t.series.overview,100)),1),p(I,{rating:t.series.vote_average},null,8,["rating"]),p(g,{custom:"",to:{name:"media",params:{id:t.series.id,media:n.$route.name}}},{default:j(({navigate:u})=>[s("button",{class:"bottom-2 right-6 float-right my-4 rounded-2xl px-6 py-1.5 capitalize text-indigo-400 outline-none ring-2 ring-indigo-400 transition-colors duration-300 hover:bg-indigo-400 hover:text-white xs:absolute md:relative md:right-0",onClick:u}," read more ",8,L)]),_:1},8,["to"])])])])}}}),R={class:"bg-white"},A={class:"h-full w-full py-10"},H={class:"container mx-auto px-8 xs:max-w-full md:container"},J={class:"w-full"},K={class:"grid grid-cols-12 gap-y-8 justify-self-center sm:gap-10 md:gap-14"},W=_({setup(t){const e=v(),i=f();e.getGenres(),e.getTvSeries(i.page);const{width:d}=y();return B(()=>i.page,function(l){e.getTvSeries(l)}),(l,n)=>(o(),r("main",R,[c(e).series?(o(),N(k,{key:0,indicators:c(d)>640,series:c(e).series.slice(0,10),height:"h-[450px]"},null,8,["indicators","series"])):z("",!0),s("div",A,[s("div",H,[s("div",J,[s("div",K,[(o(!0),r(x,null,b(c(e).series,a=>(o(),r("div",{key:a.id,class:"col-span-12 justify-self-center md:col-span-6 lg:col-span-4 2xl:col-span-3"},[p(O,{series:a},null,8,["series"])]))),128))])])])])]))}});export{W as default};
