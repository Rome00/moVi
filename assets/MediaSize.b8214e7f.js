import{b as y,l as N,m as T,c as h,_ as $,o as m,j as _,w as S,r as g,f as n,n as k,q as x,t as b,h as E,e as v,F as C,g as z,s as f,v as I,x as B,k as R}from"./index.852570de.js";const L=y({components:{TransitionRoot:N},props:{slide:{type:Object,required:!0},currentSlide:{type:Number,default:0},index:{type:Number,default:0},direction:{type:String,default:"right"}},emits:["mouseenter","mouseout"],setup(e){const t=T(),i="https://image.tmdb.org/t/p/w1280",l=h(()=>e.direction==="right"?"slide-out":"slide-in"),d=(a,s)=>a.length>s?a.substring(0,s)+"...":a,u=h(()=>t.name==="movie"?"bg-center":"bg-top");return{imageUrl:i,computedBgClass:u,transitionEffect:l,truncate:d}}}),U=n("div",{class:"absolute inset-0 bg-gradient-to-r from-black via-black/60 to-transparent"},null,-1),V={class:"absolute bottom-[20%] left-[5%] z-30"},j={class:"font-playfair max-w-lg text-4xl font-semibold text-primary-default"},q={class:"font-playfair max-w-lg text-base font-semibold text-white"},A={class:"mt-4 flex items-center"},F={class:"flex items-center font-raleway text-2xl font-medium text-white"},P=n("span",{class:"text-yellow-500"},[n("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-8 w-8",viewBox:"0 0 20 20",fill:"currentColor"},[n("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})])],-1),D={class:"mb-1 ml-1"},H=["href","onClick"];function O(e,t,i,l,d,u){const a=g("router-link"),s=g("TransitionRoot");return m(),_(s,{show:e.currentSlide===e.index,appear:"",as:"template",enter:"transition-opacity duration-1000","enter-from":"opacity-0","enter-to":"opacity-100",leave:"transition-opacity duration-700","leave-from":"opacity-100","leave-to":"opacity-0"},{default:S(()=>[n("div",{class:"absolute inset-0",onMouseenter:t[0]||(t[0]=r=>e.$emit("mouseenter")),onMouseout:t[1]||(t[1]=r=>e.$emit("mouseout"))},[n("div",{class:k(["bg-position relative h-full bg-cover bg-no-repeat",e.computedBgClass]),style:x({backgroundImage:"url("+e.imageUrl+e.slide.backdrop_path+")"})},[U,n("div",V,[n("h3",j,b(e.slide.title),1),n("p",q,b(e.truncate(e.slide.overview,120)),1),n("div",A,[n("div",F,[P,n("span",D,b(e.slide.vote_average),1)])]),E(a,{custom:"",to:{name:"media",params:{id:e.slide.id,media:e.$route.name}}},{default:S(({href:r,navigate:c})=>[n("button",{href:r,class:"mt-4 min-w-[150px] rounded-full bg-indigo-400 px-4 py-2 font-medium capitalize",onClick:c}," details ",8,H)]),_:1},8,["to"])])],6)],32)]),_:1},8,["show"])}var W=$(L,[["render",O]]);const G=y({props:{total:{type:Number,default:0},currentIndex:{type:Number,default:0}},emits:["switch"]}),J={class:"left-50 absolute bottom-1.5 left-1/2 z-10 -translate-x-1/2 transform space-x-2"},K=["onClick"];function Q(e,t,i,l,d,u){return m(),v("div",J,[(m(!0),v(C,null,z(e.total,(a,s)=>(m(),v("button",{key:s,class:k(["h-1.5 w-6 cursor-pointer border-none bg-white/50",{"active-slide":e.currentIndex===s}]),onClick:r=>e.$emit("switch",s)},null,10,K))),128))])}var X=$(G,[["render",Q]]);const Y=y({components:{CarouselItem:W,CarouselIndicators:X},props:{movies:{type:Array,default:void 0},series:{type:Array,default:void 0},indicators:{type:Boolean,default:!1},interval:{type:Number,default:5e3},height:{type:String,default:"h-[600px]"}},setup(e){let t=f(0),i=f(null),l=f("right");const d=o=>{t.value=o},u=h(()=>e.movies?e.movies.map(o=>({id:o.id,overview:o.overview,vote_average:o.vote_average,title:o.original_title,backdrop_path:o.backdrop_path})):e.series.map(o=>({id:o.id,overview:o.overview,vote_average:o.vote_average,title:o.original_name,backdrop_path:o.backdrop_path}))),a=(o=-1)=>{const p=t.value>0?t.value+o:u.value.length-1;d(p),l.value="left",c()},s=(o=1)=>{const p=t.value<u.value.length-1?t.value+o:0;d(p),l.value="right"},r=(o=1)=>{s(o),c()},c=()=>{w(),i=setInterval(()=>{s()},e.interval)},w=()=>{clearInterval(i)},M=o=>{const p=o-t.value;p>0?r(p):a(p)};return I(()=>c()),B(()=>w()),{slides:u,direction:l,currentSlide:t,setCurrentSlide:d,startSlideTimer:c,stopSlideTimer:w,switchSlide:M}}}),Z={class:"flex h-full overflow-x-hidden"};function ee(e,t,i,l,d,u){const a=g("carousel-item"),s=g("carousel-indicators");return m(),v("div",{class:k(["relative block",[e.height]])},[n("div",Z,[(m(!0),v(C,null,z(e.slides,(r,c)=>(m(),_(a,{key:r.id,class:"flex-shrink-0",slide:r,"current-slide":e.currentSlide,index:c,direction:e.direction,onMouseenter:e.stopSlideTimer,onMouseout:e.startSlideTimer},null,8,["slide","current-slide","index","direction","onMouseenter","onMouseout"]))),128))]),e.indicators?(m(),_(s,{key:0,total:e.slides.length,"current-index":e.currentSlide,onSwitch:t[0]||(t[0]=r=>e.switchSlide(r))},null,8,["total","current-index"])):R("",!0)],2)}var oe=$(Y,[["render",ee]]);function ne(){const e=f(null),t=f(null);I(()=>{i(),window.addEventListener("resize",i)}),B(()=>{window.removeEventListener("resize",i)});function i(){e.value=window.innerHeight,t.value=window.innerWidth}return{isPortrait:h(()=>e.value>t.value&&t.value<760),height:e,width:t}}export{oe as C,ne as m};
